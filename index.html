<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=yes, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="videostlstyle.css">
        <script src="build/three.js"></script>
        <script src="videooncanvas.js"></script>
        <script src="build/three.js"></script>
        <script src="examples/js/controls/OrbitControls.js"></script>
        <script src="examples/js/libs/stats.min.js"></script>
        <script src="examples/js/libs/dat.gui.min.js"></script>
        <script src="examples/js/loaders/STLLoader.js"></script>
        <script src="examples/js/renderers/Projector.js"></script>
        <script src="examples/js/Detector.js"></script>
        <script src="examples/js/libs/stats.min.js"></script>
        <script src="examples/js/THREEx.KeyboardState.js"></script>
        <script src="videobackground_v1.js"></script>
        <script src="TrackballControls.js"></script>
        <script src="loader.js"></script>
        <script src="stl.js"></script>
        <script src="stlloaderaks.js"></script>
        <script src="examples/js/Detector.js"></script>
    </head>
    <p id="errorMessage"></p>

    <body>
        <!--<video id="monitor" autoplay width="500" height="500"></video>-->
        <!--<canvas id="videoImage" width="500" height="500"></canvas>-->

        <form>
            <!--<input type="file" id="File" onload="files_loaded(this.files)" multiple>-->
            <input id="file" type="file" name="files[]" multiple position="center"> 
        </form>


        <video id="monitor" autoplay width="500" height="500" style="visibility: hidden; float:left;"></video>
        <!--<div id="view">    <canvas id="videoImage" width="500" height="500" style="visibility: hidden; float:left;"></canvas></div>-->
        <canvas id="videoImage" width="500" height="500" style="visibility: hidden; float:left;"></canvas>
        <script>
            var camera, scene, renderer, stats, controls;
            var container = document.body;
            camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 0.01, 800);
            scene = new THREE.Scene();
            renderer = new THREE.WebGLRenderer();
            //creation of a renderer which will contain the application in the browser page. This is necessary to have a renderer in three js

            renderer.antialias = true;
            //Set PixelRAtio and size of the renderer, we want a full screen application so we need to fit the size of the renderer with the window of the browser  
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x222222);
            renderer.localClippingEnabled = true;
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            container.appendChild(renderer.domElement);
            //Lights
            var light = new THREE.HemisphereLight(0xffffbb, 0x080820, 1);
            scene.add(light);
            scene.add(new THREE.AmbientLight(0x505050));
            //  var w = 800, h = 800;
//
//            var renderer = new THREE.WebGLRenderer();
//            renderer.setSize(w, h);
//            var view = document.body;// document.getElementById("view");
//            view.appendChild(renderer.domElement);
//
//            var camera = new THREE.PerspectiveCamera(45, w / h, 1, 1000);
            camera.position.set(0, 0, 50);
            //     var controls = new THREE.TrackballControls(camera, container);
//
//            var scene = new THREE.Scene();
            scene.add(new THREE.AmbientLight(0x666666));

            var light1 = new THREE.DirectionalLight(0xffffff);
            light1.position.set(0, 100, 100);
            scene.add(light1);

            var light2 = new THREE.DirectionalLight(0xffffff);
            light2.position.set(0, -100, -100);
            scene.add(light2);
            startcamera();
            videotexture();
            loadstlbatch(scene);
        </script>

    </body>
</html>
